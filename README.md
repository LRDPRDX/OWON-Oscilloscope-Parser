# OWON Oscilloscope Parser
This is a C++ program for parsing binary files generated by the software for OWON oscilloscopes *only in auto-getting* mode. Binary files which aren't obtained in that way (e.g. by using `SAVE` option on an oscilloscope or *single-getting* mode in the software) *cannot* be parsed by using this library.

# Disclaimer
This library is *not* an official OWON software. Parsing algorithms are based on the method of tries and errors (for SDS6062 model) and some information about structure of binary file provided by OWON support.

## Available models
For now the following oscilloscope models are available for parsing

  * TDS8204
  * SDS6062

## Getting Started
Assuming you've copied this repo into `owon` directory and changed to this directory, using is as follows.

### Compiling shared library
You have to pick a model from the list of available models. Once you've done you should compile shared library and place it in standard location (`/usr/lib` in this case). The following commands do it for you.
```
cd make/<MODEL_DIR>
sudo make
```
where `<MODER_DIR>` should be replaced with the name of the model you've chosen.
After that shared library `libowonparse.so` will be placed to your `/usr/lib` location and you should be able to use this library to parse binaries.

**NOTE.** Only one of the models are available for parsing at once. For example, if you've chosen the `TDS8204` model and compiled from the `make/TDS8204` directory you are able to parse only binaries of this model. You cannot parse binaries of other models. In order to change model you have to recompile library from the corresponding make-directory.

## Usage
### Stand-alone
In order to use this code in your C++ application you should compile your code along with `-lowonparse` flag (see `Makefile` inside the `example/SDS6062/stand_alone` directory for example).

### With ROOT CERN
In order to use this library in your ROOT application you should

  1. Compile shared library as described in the corresponding section above
  2. Add the following line in your `rootlogon.C` file
```
    gSystem->AddLinkedLibs( "/usr/lib/libowonparse.so" );
```
  3. Include needed headers
  4. Compile your code as follows
```
    root
    > .L <NAME>.cpp+
    > <FUNCTION_NAME>
```
where `<NAME>` is replaced with the name of your macro and `<FUNCTION_NAME>` is some function in your macro. See the example below. 

### Running examples
In order to run an example you have to compile shared library as described in the previous section above first.
#### ROOT example
```
cd example/TDS8204/ROOT/basic
root
> .L basic.cpp+
> basic()
```

#### Stand-alone example
```
cd example/SDS6062/stand-alone/basic
make
./basic
```

## Test plots
As a test I've plotted a waveform using this library (left image) and the official software (right image). Looks pretty well :)
<p float="left">
  <img src="https://github.com/BINPL33/OWON-Oscilloscope-Parser/blob/master/example/TDS8204/pictures/csi_tl_parser.png" height="250">
  <img src="https://github.com/BINPL33/OWON-Oscilloscope-Parser/blob/master/example/TDS8204/pictures/csi_tl_soft.png" height="250">
</p>

## Documentation
Documentation will appear soon. 

## Feedback
Report bugs or suggest to paradox1859@gmail.com
